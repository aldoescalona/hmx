<app-header titulo="Oferta" [cargando]="cargando"></app-header>
<div class="card">
  <div class="card-body">
    <div class="row">
      <div class="col-sm-12 col-lg-8">
        <form #f="ngForm" ngNativeValidate (ngSubmit)="guardarOferta(f)">

          <div class="form-group">
            <label>Tipo</label>
            <select [(ngModel)]="oferta.tipo" name="tipo" class="form-control" required>
              <option value="">---</option>
              <option value="PRODUCTO">Producto</option>
              <option value="SERVICIO">Servicio</option>
              <option value="EXPERIENCIA">Experiencia</option>
            </select>
          </div>
          <div class="form-group">
            <input [(ngModel)]="oferta.nombre" id="nombre" name="nombre" type="text" class="form-control" required>
            <label class="form-control-placeholder" for="nombre">Nombre</label>
          </div>
          <div class="form-group">
            <input [(ngModel)]="oferta.descripcion" id="descripcion" name="descripcion" type="text" class="form-control" required>
            <label class="form-control-placeholder" for="descripcion">Descripci√≥n</label>
          </div>
          <div class="form-group">
            <input [(ngModel)]="oferta.precio" id="precio" name="precio" type="number" class="form-control" required>
            <label class="form-control-placeholder" for="precio">Precio</label>
          </div>

          <div class="form-group">
            <input [(ngModel)]="oferta.condiciones" id="condiciones" name="condiciones" type="text" class="form-control" required>
            <label class="form-control-placeholder" for="condiciones">Condiciones</label>
          </div>

          <button type="submit" class="btn btn-primary waves-effect waves-light m-r-10">
            <i class="fa fa-save"></i>
            Guardar
          </button>
          <a routerLink="/pages/ofertas" class="btn btn-inverse waves-effect waves-light">Cancelar</a>
        </form>
      </div>

    </div>
  </div>
</div>

<div class="row mt-2" *ngIf="!transiente">
  <div class="col-md-3">
    <div class="card card-body">
      <h4 class="box-title m-b-0">Imagen</h4>
      <div class="col">
        <img *ngIf="oferta.imagenId" (click)="cambiarFoto()" [src]="oferta.imagenId.imgC | imagen" class="img-fluid nav-pointer">
        <img *ngIf="!oferta.imagenId" (click)="cambiarFoto()" [src]="'assets/img/empty-photo.jpg' | recurso" class="img-fluid nav-pointer">
      </div>
    </div>
  </div>
</div>

<app-imagen-modal></app-imagen-modal>